app_health_check:
    path:      /
    defaults:  { _controller: AppBundle:Default:healthCheck }

app_ambito_index:
    path: /ambitos
    methods: [GET]
    defaults:
        _controller: app.controller.ambito:indexAction
        _sylius:
            paginate: false
            serialization_groups: [List]

app_ambito_show:
    path: /ambitos/{id}
    methods: [GET]
    defaults:
        _controller: app.controller.ambito:showAction
        _sylius:
            paginate: false
            serialization_groups: [Show]
            repository:
                method: findAmbitoYPoliticasById
                arguments: [$id]

app_politica_show:
    path: /politicas/{id}
    methods: [GET]
    defaults:
        _controller: app.controller.politica:showAction
        _sylius:
            paginate: false

app_partido_index:
    path: /partidos
    methods: [GET]
    defaults:
        _controller: app.controller.partido:indexAction
        _sylius:
            paginate: false

app_miprograma_create:
    path: /misprogramas
    methods: [POST]
    defaults:
        _controller: app.controller.miprograma:createAction

app_miprograma_show:
    path: /misprogramas/{id}
    methods: [GET]
    defaults:
        _controller: app.controller.miprograma:showAction
        _sylius:
            paginate: false
            repository:
                method: findNoExpiradoById
                arguments: [$id]

app_miprograma_update:
    path: /misprogramas/{id}
    methods: [POST]
    defaults:
        _controller: app.controller.miprograma:updateAction
        _sylius:
            paginate: false
            criteria:
                id: $id
                terminado:  false

app_miprograma_delete:
    path: /misprogramas/{id}
    methods: [DELETE]
    defaults:
        _controller: app.controller.miprograma:deleteAction
        _sylius:
            paginate: false
            criteria:
                id: $id
                terminado:  true
                publico:  false
